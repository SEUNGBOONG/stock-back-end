<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>WebSocket ν…μ¤νΈ</title>
</head>
<body>
<h2>π“ WebSocket μ—°κ²° ν…μ¤νΈ</h2>
<button onclick="connectWebSocket()">WebSocket μ—°κ²°ν•κΈ°</button>
<div id="output" style="margin-top: 1rem;"></div>

<script>
    function connectWebSocket() {
        const approvalKey = "ν…μ¤νΈν‚¤"; // ν•„μ”ν• κ²½μ° μμ •
        const socket = new WebSocket(`ws://localhost:8080/wss/tradingVolume?approval_key=${approvalKey}`);

        const output = document.getElementById("output");

        socket.onopen = function () {
            output.innerHTML += "<p>β… μ—°κ²°λ¨</p>";
        };

        socket.onmessage = function (event) {
            output.innerHTML += `<p>π“¨ λ©”μ‹μ§€: ${event.data}</p>`;
        };

        socket.onerror = function (error) {
            output.innerHTML += `<p style="color:red;">β μ—λ¬ λ°μƒ: ${error}</p>`;
        };

        socket.onclose = function () {
            output.innerHTML += "<p>π” μ—°κ²° μΆ…λ£λ¨</p>";
        };
    }
</script>
</body>
</html>
